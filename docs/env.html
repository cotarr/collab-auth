<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">

		<title>Env Vars</title>
    <link rel="stylesheet" href="css/styles.css">
	</head>
	<body>
    <div class="head-fixed">
      Documentation for
      <a href="https://github.com/cotarr/collab-auth">collab-auth</a>
    </div>
    <div class="menu-div-fixed">
      <div class="menu-div">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="installation.html">Install Demo</a></li>
          <li><a href="deployment.html">Deployment</a></li>
          <li><a href="admin.html">Admin Editor</a></li>
          <li><a href="scope.html">Scope and Role</a></li>
          <li><a class="active" href="env.html">Env Vars</a></li>
          <li><a href="faq.html">FAQ</a></li>
          <li><a href="references.html">References</a></li>
          <li><a href="license.html">License</a></li>
        </ul>
      </div>
    </div> <!-- /menu-div-->

    <div class="scrollable-div">

      <div class="text-div">
        <div class="desc-title">
          Enviornment Variables
        </div>
        <p>
        </p>
        <div class="vh-20"></div>
        <div class="section-title">Program Configuration</div>
        <p>
          The program configuration variables are assigned default values
          in the JavaScript file &quot;server/config/index.js&quot;.
          Changes to configuration may be done by editing the file or
          using UNIX environment variables to override the defaults.
          Most of the variable names are self explanatory.
          Further explanation may be available in the <a href="deployment.html">Deployment</a> tab.
          The program uses npm dotenv so a &quot;.env&quot; file located in the
          repository base folder is supported. If a .env file use used,
          remove public file permissions to protect credentials stored in the file.
        </p>
        <p>
          Boolean values should be a string value, entered as:
        </p>

<pre class="pre-div">
SERVER_TLS=true
</pre>
        <div class="vh-20"></div>

        <table>
          <tbody>
            <tr><th>Enviornment Variable</th><th>Default</th><th>Comment</th></tr>
            <tr><td>SITE_VHOST</td><td>*</td><td>Disabled = *</a></td></tr>
            <tr><td>SITE_AUTH_URL</td><td>http://127.0.0.1:3500</td><td></td></tr>
            <tr><td>SITE_OWN_HOST</td><td>127.0.0.1:3500</td><td></td></tr>
            <tr><td>SITE_SECURITY_CONTACT</td><td>security@example.com</td><td>Disabled unless set</a></td></tr>
            <tr><td>SITE_SECURITY_EXPIRES</td><td>"Fri, 1 Apr 2022 08:00:00 -0600"</td><td>Disabled unless set</td></tr>

            <tr><td>SERVER_TLS_KEY</td><td>../../data/token-certs/privatekey.pem</td><td></td></tr>
            <tr><td>SERVER_TLS_CERT</td><td>../../data/token-certs/certificate.pem</td><td></td></tr>
            <tr><td>SERVER_TLS</td><td>false</td><td></td></tr>
            <tr><td>SERVER_PORT</td><td>3500</td><td></td></tr>
            <tr><td>SERVER_LOG_ROTATE_INTERVAL</td><td></td><td>Examples: 5m,  2h,  7d</td></tr>
            <tr><td>SERVER_LOG_ROTATE_SIZE</td><td></td><td>Examples: 100K,  1M</td></tr>
            <tr><td>SERVER_LOG_FILTER</td><td></td><td>Values: &quot;error&quot;</td></tr>
            <tr><td>SERVER_PID_FILENAME</td><td></td><td>Disabled unless set</td></tr>

            
            <tr><td>SESSION_SET_ROLLING_COOKIE</td><td>false</td><td></td></tr>
            <tr><td>SESSION_NOT_SESSION_COOKIE</td><td>false</td><td></td></tr>
            <tr><td>SESSION_EXPIRE_SEC</td><td>3600</td><td>(1 hour)</td></tr>
            <tr><td>SESSION_PRUNE_INTERVAL_SEC</td><td>3600</td><td>(1 hour)</td></tr>
            <tr><td>SESSION_SECRET</td><td>A Secret That Should Be Changed</td><td></td></tr>
            <tr><td>SESSION_ENABLE_POSTGRES</td><td>false</td><td></td></tr>

            <tr><td>DATABASE_ENABLE_POSTGRES</td><td>false</td><td></td></tr>
            <tr><td>DATABASE_DISABLE_WEB_ADMIN_PANEL</td><td>false</td><td></td></tr>

            <tr><td>LIMITS_PASSWORD_RATE_LIMIT_COUNT</td><td>10</td><td>Includes successful</td></tr>
            <tr><td>LIMITS_PASSWORD_RATE_LIMIT_MS</td><td>3600000</td><td></td></tr>

            <tr><td>OAUTH_CLIENT_SECRET_AES_KEY</td><td>A Secret That Should Be Changed</td><td></td></tr>
            <tr><td>OAUTH2_DISABLE_TOKEN_GRANT</td><td>false</td><td></td></tr>
            <tr><td>OAUTH2_DISABLE_CODE_GRANT</td><td>false</td><td></td></tr>
            <tr><td>OAUTH2_DISABLE_CLIENT_GRANT</td><td>false</td><td></td></tr>
            <tr><td>OAUTH2_DISABLE_PASSWORD_GRANT</td><td>false</td><td></td></tr>
            <tr><td>OAUTH2_DISABLE_REFRESH_TOKEN_GRANT</td><td>false</td><td></td></tr>
            <tr><td>OAUTH2_EDITOR_SHOW_CLIENT_SECRET</td><td>false</td><td></td></tr>
            <tr><td>OAUTH2_TOKEN_EXPIRES_IN_SECONDS</td><td>86400</td><td>(24 hours)</td></tr>
            <tr><td>OAUTH2_REFRESH_TOKEN_EXPIRES_IN_SECONDS</td><td>2592000</td><td>(30 days)</td></tr>
            <tr><td>OAUTH2_CLIENT_TOKEN_EXPIRES_IN_SECONDS</td><td>86400</td><td>(24 hours)</td></tr>
          </tbody>
        </table>

        <div class="vh-20"></div>
        <div class="section-title">PostgreSQL</div>
        <p>
          The PostgreSQL client, npm package pg, will use these enviornment variables directly.
          They may be entered into a .env or assigned before the program is started.
          You may refer to the npm pg package documentation for more info.
        </p>

        <table>
          <tbody>
            <tr><th>Enviornment Variable</th><th>Comment</th></tr>
            <tr><td>PGUSER</td><td></td></tr>
            <tr><td>PGPASSWORD</td><td></td></tr>
            <tr><td>PGHOSTADDR</td><td></td></tr>
            <tr><td>PGPORT</td><td></td></tr>
            <tr><td>PGDATABASE</td><td>Use: &quotcollabauth&quot</td></tr>
            <tr><td>PGSSLMODE</td><td></td></tr>
          </tbody>
        </table>

        <div class="vh-20"></div>
        <div class="section-title">Debug Variables</div>
        <p>
          The following enviornment variables are not supported in the .env file.
          They may be prepended to the command line when starting the program during debugging.
        </p>

        <table>
          <tbody>
            <tr><th>Enviornment Variable</th><th>Comment</th></tr>
            <tr><td>NODE_ENV</td><td>&quot;production&quot; or &quot;development&quot;</td></tr>
            <tr><td>NODE_DEBUG_LOG</td><td>Use: NODE_DEBUG_LOG=1 to view logs in terminal</td></tr>
          </tbody>
        </table>
        <div class="vh-20"></div>

      </div> <!-- /text-div -->

    </div> <!-- scrollable-div -->

    <div class="footer-div">
      Repository:
      <a href="https://github.com/cotarr/collab-auth">
        https://github.com/cotarr/collab-auth</a>
    </div> <!-- /footer-div -->
	</body>
</html>
